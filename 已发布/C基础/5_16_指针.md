5_16æŒ‡é’ˆ

> æŒ‡é’ˆçš„ä¼˜ç‚¹ï¼š
> 1. ä½¿ç¨‹åºæ›´ç®€æ´ã€ç´§å‡‘ã€é«˜æ•ˆ
> 2. æœ‰æ•ˆçš„è¡¨è¾¾æ›´å¤æ‚çš„æ•°æ®ç»“æ„
> 3. åŠ¨æ€åˆ†é…å†…å­˜
> 4. å¾—åˆ°å¤šäºä¸€ä¸ªæ•°çš„å‡½æ•°è¿”å›å€¼
>

# 1. æŒ‡é’ˆçš„åŸºæœ¬ç”¨æ³•

## 1.1 æŒ‡é’ˆçš„æ¦‚å¿µ

- å†…å­˜åœ°å€ï¼šå†…å­˜ä¸­æ¯ä¸ªå­—èŠ‚å•ä½éƒ½æœ‰ä¸€ä¸ªç¼–å·ï¼ˆä¸€èˆ¬ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºï¼‰

- æŒ‡é’ˆï¼šæŒ‡é’ˆå°±æ˜¯å†…å­˜åœ°å€

- æŒ‡é’ˆå˜é‡ï¼šç”¨äºå­˜æ”¾åœ°å€çš„å˜é‡å°±å«åšæŒ‡é’ˆå˜é‡

[![p9RBqCq.png](https://s1.ax1x.com/2023/05/16/p9RBqCq.png)](https://imgse.com/i/p9RBqCq)

æŒ‡é’ˆå˜é‡ç”»å›¾å±•ç¤ºï¼š

[![p9RBL80.png](https://s1.ax1x.com/2023/05/16/p9RBL80.png)](https://imgse.com/i/p9RBL80)

## 1.2 æ ¼å¼

å­˜å‚¨ç±»å‹ æ•°æ®ç±»å‹ *æŒ‡é’ˆå˜é‡åï¼›

int *p; //å®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆå˜é‡p,æŒ‡å‘çš„æ•°æ®æ˜¯intç±»å‹çš„ã€‚

```c
int a = 5;
int *p = &a;
char c='v';
char *q=&c;
printf("%p %p\n", p, &a);
printf("%p %p\n",q,&c);
printf("%d %d\n",a,*p);
printf("%c %c\n",c,*q);
```

**è®¿é—®æŒ‡é’ˆæ‰€æŒ‡å‘ç©ºé—´çš„å†…å®¹ç”¨å–å†…å®¹è¿ç®—ç¬¦\***

é‚£ä¹ˆpå˜é‡å­˜æ”¾çš„å°±æ˜¯açš„åœ°å€ï¼Œqå˜é‡å­˜æ”¾çš„æ˜¯cçš„åœ°å€ã€‚

ç¬¦å·*å¯ä»¥è®¿é—®åœ°å€é‡Œé¢çš„å†…å®¹ã€‚

æŒ‡é’ˆä¸æ‰€æŒ‡å˜é‡ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹å›¾ï¼š

int i=3;

int *i_potinte=&i;

[![p9RBxrF.png](https://s1.ax1x.com/2023/05/16/p9RBxrF.png)](https://imgse.com/i/p9RBxrF)

## 2.3 æŒ‡é’ˆæ“ä½œç¬¦

- &ï¼šå–åœ°å€ç¬¦ï¼šå–å˜é‡çš„åœ°å€

- *ï¼šå–å†…å®¹ç¬¦ï¼šå–åœ°å€é‡Œé¢å­˜æ”¾çš„å†…å®¹

*&a=a;//*å’Œ&æ˜¯äº’é€†è¿ç®—

&*a//é”™è¯¯ï¼ˆå› ä¸ºè¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼‰

## 2.4 æŒ‡é’ˆå˜é‡åˆå§‹åŒ–å’Œèµ‹å€¼

æŒ‡é’ˆå˜é‡ä½¿ç”¨å‰ä¸ä»…è¦å®šä¹‰ï¼Œè¿˜è¦åˆå§‹åŒ–ã€‚æœªåˆå§‹åŒ–çš„æŒ‡é’ˆå˜é‡ä¸èƒ½éšä¾¿ä½¿ç”¨ï¼Œä¸ç„¶å¯èƒ½ä¼šäº§ç”Ÿé‡æŒ‡é’ˆã€‚

**ï¼ˆ1ï¼‰å°†æ™®é€šå˜é‡çš„åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆå˜é‡**

```c
#include 
int main(int argc, char const *argv[])
{
    int a=10;
    int *p = &a;//å®šä¹‰çš„åŒæ—¶èµ‹å€¼
    int *q=NULL;//å¯ä»¥åˆå§‹åŒ–ä¸ºç©ºæŒ‡é’ˆ
    int *p2;
    p2=p;//å…ˆå®šä¹‰åèµ‹å€¼

    printf("%d %d %d\n",a,*p,*p2);//æ‰“å°açš„å€¼
    printf("%p %p %p\n",&a,p,p2); //æ‰“å°açš„åœ°å€
    *p=20;                        //åŒè¿‡æŒ‡å‘açš„æŒ‡é’ˆæ”¹å˜açš„å€¼
    printf("%d %d %d\n",a,*p,*p2);//æ‰“å°açš„å€¼
    printf("%p %p %p\n",&a,p,p2); //æ‰“å°açš„åœ°å€
    return 0;
}
```

 **ï¼ˆ2ï¼‰å°†æ•°ç»„çš„é¦–åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆå˜é‡**

```c
char s[10]="hello";
char *p = s;
int arr[5]={1,2,3,4,5};
int *q=arr;
printf("%c\n",*p);//h
printf("%d\n",*q);//1
```

**ï¼ˆ3ï¼‰å°†æŒ‡é’ˆå˜é‡é‡Œé¢ä¿å­˜çš„åœ°å€èµ‹å€¼ç»™å¦ä¸€ä¸ªæŒ‡é’ˆå˜é‡**

```c
    int a=10;
    int *p=&a;
    int *q=p;
    printf("%d %d %d\n",a,*p,*q);
    *q=20;//é€šè¿‡æŒ‡é’ˆæ”¹å˜å˜é‡açš„å€¼
    printf("%d %d %d\n",a,*p,*q);
```

på’Œqéƒ½æŒ‡å‘äº†å˜é‡a

#              2.  æŒ‡é’ˆè¿ç®—

## 2.1 ç®—æœ¯è¿ç®—- +

å¯¹æŒ‡é’ˆåŠ å‡æ“ä½œå…¶å®å°±æ˜¯è®©æŒ‡é’ˆå‘å‰å‘åç§»åŠ¨

```c
    char str[32]="hello";
    char *p=str;
    printf("%c\n",*p);
    p++;
    printf("%c\n",*p);
    p--;
    printf("%c\n",*p);
```

int *p;p++;//ç§»åŠ¨4å­—èŠ‚

double *q;q++;//ç§»åŠ¨8å­—èŠ‚

p+n:è®¿é—®é«˜åœ°å€æ–¹å‘çš„ç¬¬nä¸ªæ•°æ®çš„åœ°å€ï¼ŒæŒ‡é’ˆçš„æŒ‡å‘ä¸å‘ç”Ÿå˜åŒ–ã€‚

p-n:è®¿é—®ä½åœ°å€æ–¹å‘çš„ç¬¬nä¸ªæ•°æ®çš„åœ°å€ï¼ŒæŒ‡é’ˆçš„æŒ‡å‘ä¸å‘ç”Ÿå˜åŒ–ã€‚

åç§»äº†å¤šå°‘å­—èŠ‚=n*sizeof(æ•°æ®ç±»å‹)



## 2.2 å…³ç³»è¿ç®— > >= < <= == !=

æŒ‡é’ˆä¹‹é—´çš„å…³ç³»è¿ç®—æ¯”è¾ƒçš„æ˜¯å®ƒæŒ‡å‘åœ°å€çš„é«˜ä½

æŒ‡å‘é«˜åœ°å€çš„æŒ‡é’ˆæ˜¯å¤§äºæŒ‡å‘ä½åœ°å€çš„æŒ‡é’ˆ

```c
    char s[10]="hello";
    char *p1=s;
    char *p2=&s[2];
    if(p2>p1)
        printf("p2>p1");
    else 
        printf("p2);
```



ç»ƒä¹ ï¼šä»¥ä¸‹ç¨‹åºæ‰“å°å‡ºæ¥ä»€ä¹ˆ

```c
char s[32]="hello";
char *p=s;
p++;c
char y=(*--p)++;
printf("%c",y);//h
```



ç»ƒä¹ ï¼šä»¥ä¸‹ç¨‹åºæ‰“å°ä»€ä¹ˆç»“æœ

```c
int x[] = {10, 20, 30};
int *px = x;
printf("%d,", ++*px);//11
printf("%d\n", *px); //11
px = x;
printf("%d,", (*px)++);//11
printf("%d\n", *px);//12
px = x+1;
printf("%d,", *px++);//20
printf("%d\n", *px);//30
px = x+1;
printf("%d,", *++px);//30
printf("%d\n", *px);//30
```

ç»ƒä¹ ï¼šä¸‹é¢ç¨‹åºæ®µçš„è¿è¡Œç»“æœæ˜¯           

char a[ ]=â€languageâ€ , *p ;

p=a ;

while (*p!=â€™uâ€™) { printf(â€œ%câ€,*p-32); p++ ; }

Aï¼‰LANGUAGE       Bï¼‰language            Cï¼‰LANG       Dï¼‰langUAGE

C

# 3. æŒ‡é’ˆçš„å¤§å°å’Œæ®µé”™è¯¯

## 3.1 æŒ‡é’ˆçš„å¤§å°

è®¡ç®—æŒ‡é’ˆå¤§å°ç”¨ï¼šsizeof(æŒ‡é’ˆå˜é‡å)

```c
    int a=5;
    short b=6;
    char c='a';
    int *p1=&a;
    short *p2=&b;
    char *p3=&c;
    printf("%d %d %d\n",sizeof(p1),sizeof(p2),sizeof(p3));//4 4 4 4
```

æ€»ç»“ï¼š

1. 32ä½æ“ä½œç³»ç»ŸæŒ‡é’ˆå¤§å°æ˜¯4å­—èŠ‚ã€‚64ä½æ“ä½œç³»ç»Ÿï¼ŒæŒ‡é’ˆå¤§å°æ˜¯8å­—èŠ‚ã€‚

2. å†…å­˜åœ°å€æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å˜é‡çš„åœ°å€ä¸æ˜¯å›ºå®šçš„ã€‚

3. æŒ‡é’ˆç±»å‹æ ¹æ®æŒ‡é’ˆæŒ‡å‘çš„ç©ºé—´çš„æ•°æ®ç±»å‹æ¥åŒ¹é…

ç»ƒä¹ ï¼š
åˆ©ç”¨æŒ‡é’ˆåˆ¤æ–­è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡

```c
#include 
#include 
int main(int argc, char const *argv[])
{
   char a[32]={};
   char *p1,*p2;
   int flag=1;
   gets(a);
   p1=a;
   p2=a+strlen(a)-1;
   while(p2>p1)
   {
       if(*p1!=*p2)
            flag=0;
       p1++;
       p2--;
   }
    if(flag==0)
        printf("no!\n");
    else 
        printf("yes!\n");
    return 0;
}
```

ç»ƒä¹ ï¼šç¼–å†™ä¸€ä¸ªç¨‹åºå®ç°åŠŸèƒ½ï¼šå°†å­—ç¬¦ä¸²â€œComputer Scienceâ€èµ‹å€¼ç»™ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œç„¶åä»ç¬¬ä¸€ä¸ªå­—æ¯å¼€å§‹é—´éš”çš„è¾“å‡ºè¯¥å­—ç¬¦ä¸²ï¼Œç”¨æŒ‡é’ˆå®Œæˆã€‚ç»“æœï¼šCmue cec

```c
#include 
#include 
int main(int argc, char const *argv[])
{
    char string[32] = "Computer Science";
    char *p = string;
    while (*p != '\0')
    {
        printf("%c", *p);
        p += 2;
    }
    printf("\n");
    return 0;
}
```



## 3.2 ä½¿ç”¨æŒ‡é’ˆæ—¶æŠ¥æ®µé”™è¯¯

æ®µé”™è¯¯ï¼š Segmentation fault (core dumped)

**ï¼ˆ1ï¼‰é‡æŒ‡é’ˆï¼Œæ²¡æœ‰è§„å®šæŒ‡å‘çš„æŒ‡é’ˆä¼šåœ¨å†…å­˜ä¸­ä¹±æŒ‡ã€‚**

é‡æŒ‡é’ˆäº§ç”Ÿçš„åŸå› ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š

ã€1ã€‘æŒ‡é’ˆå˜é‡æ²¡æœ‰åˆå§‹åŒ–

ã€2ã€‘æŒ‡é’ˆè¢«freeä¹‹åï¼Œæ²¡æœ‰ç½®NULLï¼Œä¼šè®©äººè®¤ä¸ºæ—¶åˆæ³•æŒ‡é’ˆã€‚

è¿™ä¸¤ç§æƒ…å†µéƒ½æ˜¯æ²¡æœ‰ç»™æŒ‡é’ˆè§„å®šæŒ‡å‘ã€‚

ä¾‹å¦‚ï¼šint *p; 

scanf("%d", p);

printf("%d\n",*p);

ä¿®æ”¹ï¼š

```c
    int a=10;
    int *p=&a;
    scanf("%d",p);
    printf("%d\n",*p);
```



**(2)å†…å­˜æ³„éœ²ï¼Œå¯¹éæ³•ç©ºé—´è¿›è¡Œèµ‹å€¼ã€‚**

ç»ƒä¹ 1.å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•´å‹æ•°å­—è¾“å‡ºã€‚ç”¨æŒ‡é’ˆå®ç°

```c
#include 
#include 
int main(int argc, char const *argv[])
{
    char a[32]="123";
    char *p=a;
    int num=0;
    while(*p != '\0')
    {
        num = num*10+(*p-48);
        p++;
    }
    printf("num=%d\n",num);
    return 0;
}
```

# 4. æŒ‡é’ˆä¿®é¥°

## 4.1 const å¸¸é‡åŒ–

### ï¼ˆ1ï¼‰ä¿®é¥°æ™®é€šå˜

const int a=10;

int const b=10;

æ­¤æ—¶aå’Œbåªè¯»ï¼Œä¸å¯ä»¥ä¿®æ”¹ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡æŒ‡é’ˆä¿®æ”¹ã€‚

```c
    const int a=10;
    int const b=20;
    int *p=&a,*q=&b;
    printf("%d %d\n",a,b);//10 20
    *p=1;
    *q=2;
    //a=1;//error: assignment of read-only variable â€˜aâ€™
    //b=2;//error: assignment of read-only variable â€˜bâ€™
    printf("%d %d\n",a,b);//1 2 
```



| açš„å€¼ | açš„åœ°å€ | pçš„åœ°å€ |
| ----- | ------- | ------- |
| a     | &a      | &p      |
| *p    | p       | q       |
| **q   | *q      |         |

éªŒè¯ï¼š

```c
#include 
#include 
int main(int argc, char const *argv[])
{
    int a=10;
    int *p=&a;
    int **q=&p;
    printf("%d %d %d\n",a,*p,**q);
    printf("%p %p %p\n",&a,p,*q);
    printf("%p %p\n",&p,q);
    return 0;
}
```

ç»“æœï¼š

```
10 10 10
0xbf9839b0 0xbf9839b0 0xbf9839b0
0xbf9839b4 0xbf9839b4
```

### (2) ä¿®é¥°æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹

ä¹Ÿå°±æ˜¯ä¿®é¥°*p,æ­¤æ—¶æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹ä¸èƒ½æ”¹å˜ï¼Œä½†æ˜¯æŒ‡å‘å¯ä»¥æ”¹å˜ã€‚

```c
const int *p;
int const *p;
```

```c
#include 
#include 
int main(int argc, char const *argv[])
{
    int a=10;
    int b=20;
    int const *p=&a;
    const int *q=&b;
    printf("%d %d\n",a,b);//10 20
    //*p=1;//*påªè¯»ä¸å¯ä»¥è¢«æ›´æ”¹
    //*q=2;//*qåªè¯»ä¸å¯ä»¥è¢«æ›´æ”¹
    p=q;
    printf("%d %d\n",*p,*q);//20 20
    return 0;
}
```



**(3)  ä¿®é¥°æŒ‡é’ˆæŒ‡å‘**

int *const p;

æ­¤æ—¶constä¿®é¥°p,æŒ‡é’ˆæŒ‡å‘ä¸èƒ½è¢«æ›´æ”¹ï¼Œä½†æ˜¯æŒ‡å‘çš„å†…å®¹å¯ä»¥è¢«æ›´æ”¹ã€‚

```c
#include 
#include 
int main(int argc, char const *argv[])
{
    int a=10;
    int *const p=&a;
    printf("%d\n",*p);
    //p=NULL;//error: assignment of read-only variable â€˜pâ€™
    *p=20;
    printf("%d\n",*p);
    return 0;
}
```



## **4.2 void**

(1) ä¸å…è®¸ä¿®é¥°æ™®é€šå˜é‡ï¼švoid a;//é”™è¯¯

(2) å¯ä»¥ä¿®é¥°æŒ‡é’ˆï¼švoid \*p;

æ­¤æ—¶pæ˜¯ä¸€ä¸ªä»»æ„ç±»å‹çš„æŒ‡é’ˆ

ä½¿ç”¨åœºæ™¯ï¼šå‡½æ•°å‚æ•°æˆ–å‡½æ•°è¿”å›å€¼ã€‚

æ³¨æ„ï¼šé€šè¿‡voidç±»å‹ä¿®é¥°çš„æŒ‡é’ˆè¿›è¡Œå–å†…å®¹æ—¶ï¼Œéœ€è¦è¿›è¡Œå¼ºåˆ¶è½¬æ¢ã€‚

è½¬æ¢æ–¹å¼ï¼š(int *)p ä¸ºå³å€¼

```c
int a=100;
void *p=&a;
int *q=(int *)p;
printf("%d %d\n",*(int *)p,*q);
```

ğŸ‘‰ç°ç”¨ç°è½¬ï¼Œæˆ–è€…è½¬æ¢ä¹‹åèµ‹å€¼ç»™å¦å¤–ä¸€ä¸ªå˜é‡ç„¶ååº”ç”¨å¦å¤–ä¸€ä¸ªå˜é‡ã€‚

## 4.3 å¤§å°ç«¯

åœ¨è®¡ç®—æœºè¿›è¡Œè¶…è¿‡1å­—èŠ‚æ•°æ®è¿›è¡Œå­˜å‚¨æ—¶ï¼Œä¼šå‡ºç°å­˜å‚¨æ•°æ®é¡ºåºä¸åŒçš„æƒ…å†µå³å¤§å°ç«¯å­˜å‚¨

- å¤§ç«¯ï¼šæ•°æ®çš„ä½ä½å­˜å‚¨åœ¨é«˜åœ°å€ä½ï¼Œæ•°æ®çš„é«˜ä½å­˜å‚¨åœ¨ä½åœ°å€ä½,å¤§ç«¯å­—èŠ‚åºç§°ä¸ºMSB

- å°ç«¯ï¼šæ®çš„ä½ä½å­˜å‚¨åœ¨ä½åœ°å€ä½ï¼Œæ•°æ®çš„é«˜ä½å­˜å‚¨åœ¨é«˜åœ°å€ä½,å°ç«¯å­—èŠ‚åºç§°ä¸ºLSB



ä¸¾ä¾‹ï¼šå­˜å‚¨æ•°æ®ï¼š0x12345678, å‡è®¾èµ·å§‹åœ°å€æ˜¯0x4000

åœ°å€ï¼š0x4000 0x4001 0x4002 0x4003

å°ç«¯ï¼š0x78     0x56     0x34     0x12

å¤§ç«¯ï¼š0x12     0x34     0x56     0x78

[![p9RDAxK.png](https://s1.ax1x.com/2023/05/16/p9RDAxK.png)](https://imgse.com/i/p9RDAxK)

```c
#include 
#include 
int main(int argc, char const *argv[])
{
    int a=0x12345678;
    char *p=(char *)&a;

    if(*p==0x78)
        printf("LSB\n");
    else if(*p==0x12)
        printf("MSB\n");
    
    return 0;
}
```

# 5. äºŒçº§æŒ‡é’ˆ

- ä¸€çº§æŒ‡é’ˆï¼šå­˜æ”¾å˜é‡çš„åœ°å€

- äºŒçº§æŒ‡é’ˆï¼šå­˜æ”¾ä¸€çº§æŒ‡é’ˆçš„åœ°å€

## 5.1 æ ¼å¼

å­˜å‚¨ç±»å‹ æ•°æ®ç±»å‹ **æŒ‡é’ˆå˜é‡åï¼›

int a = 10;

int *p = &a;

int **q = &p;

[![p9RDeqe.png](https://s1.ax1x.com/2023/05/16/p9RDeqe.png)](https://imgse.com/i/p9RDeqe)

æ­¤æ—¶pæŒ‡å‘äº†a,qæŒ‡å‘äº†pä¹Ÿå°±æ˜¯qé‡Œä¿å­˜äº†pçš„åœ°å€ã€‚è®¿é—®açš„å€¼ï¼Œaçš„åœ°å€å’Œpçš„åœ°å€ï¼š

| açš„å€¼ | açš„åœ°å€ | pçš„åœ°å€ |
| ----- | ------- | ------- |
| a     | &a      | &p      |
| *p    | p       | q       |
| **q   | *q      |         |

éªŒè¯ï¼š

```c
#include 
#include 
int main(int argc, char const *argv[])
{
    int a=10;
    int *p=&a;
    int **q=&p;
    printf("%d %d %d\n",a,*p,**q);
    printf("%p %p %p\n",&a,p,*q);
    printf("%p %p\n",&p,q);
    return 0;
}
```

ç»“æœï¼š

```
10 10 10
0xbf9839b0 0xbf9839b0 0xbf9839b0
0xbf9839b4 0xbf9839b4
```

# 6.æŒ‡é’ˆå’Œä¸€ç»´æ•°ç»„

## 6.1 ç”¨æ³•

int a[5]={1,2,3,4,5}; //aæ˜¯æ•°ç»„åï¼Œä¹Ÿæ˜¯æ•°ç»„é¦–åœ°å€ã€‚

int *p=a;

ï¼ˆ1ï¼‰ç›´æ¥è®¿é—®ï¼š

[![p9RDlGt.png](https://s1.ax1x.com/2023/05/16/p9RDlGt.png)](https://imgse.com/i/p9RDlGt)

ï¼ˆ2ï¼‰é€šè¿‡åœ°å€é—´æ¥è®¿é—®ï¼š

[![p9RDYqg.png](https://s1.ax1x.com/2023/05/16/p9RDYqg.png)](https://imgse.com/i/p9RDYqg)

è®¿é—®æ•°ç»„å…ƒç´ a[i]çš„åœ°å€ï¼š

- ç›´æ¥è®¿é—®ï¼š&a[i] a+i

- é—´æ¥è®¿é—®ï¼š&p[i] p+i

è®¿é—®æ•°ç»„å…ƒç´ a[i]çš„å†…å®¹ï¼š

- ç›´æ¥è®¿é—®ï¼ša[i] *(a+i)

- é—´æ¥è®¿é—®ï¼šp[i] *(p+i)

```c
#include 
#include 
int main(int argc, char const *argv[])
{
    int a[3]={1,2,3};
    int *p=a;
    printf("%p %p %p %p\n",a,p,&a[0],&p[0]);
    printf("%p %p %p %p\n",a+1,p+1,&a[1],&p[1]);
    printf("%d %d %d %d\n",a[0],p[0],*a,*p);
    printf("%d %d %d %d\n",a[1],p[1],*(a+1),*(p+1));
    return 0;
}
```

æ‰“å°ç»“æœï¼š

```
0xbfb27e90 0xbfb27e90 0xbfb27e90 0xbfb27e90
0xbfb27e94 0xbfb27e94 0xbfb27e94 0xbfb27e94
1 1 1 1
2 2 2 2

```

ç»ƒä¹ ï¼šç”¨æŒ‡é’ˆå®ç°å­—ç¬¦ä¸²â€œhelloâ€çš„å€’åºæ‰“å°ã€‚

```c
#include 
#include 
int main(int argc, char const *argv[])
{
    char str[32]="";
    char *p1=str,*p2=NULL;
    int temp=0;
    gets(str);
    p2=p1+strlen(str)-1;
    while (p2>p1)
    {
        temp=*p1;
        *p1=*p2;
        *p2=temp;
        p1++;
        p2--;
    }
    printf("%s\n",str);
    
    return 0;
}
```

ç»ƒä¹ ï¼šæ‰“å°æ¨è¾‰ä¸‰è§’å½¢å‰åè¡Œ

```
1
1 1
1 2 1
1 3 3 1
1 4 6 4 1
1 5 10 10 5 1
1 6 15 20 15 6 1
```



```c
#include <stdio.h>
int main()
{
    int a[10][10], i, j;
    /*è´Ÿè´£å¯¹è§’çº¿å’Œæ¯è¡Œç¬¬ä¸€åˆ—*/
    for (i = 0; i < 10; i++)     
    {
        a[i][i] = 1;
        a[i][0] = 1;
    }
    
    /*è´Ÿè´£ç¬¬ä¸‰è¡Œèµ·ï¼Œæ¯ä¸ªæ•°ç­‰äºå·¦ä¸Šæ–¹å’Œæ­£ä¸Šæ–¹çš„æ•°ç›¸åŠ */
    for (i = 2; i < 10; i++)    
    {    
        for (j = 1; j <= i - 1; j++)
            a[i][j] = a[i - 1][j - 1] + a[i - 1][j];
    }
    
    for (i = 0; i < 10; i++)        //æ‰“å°ç»“æœ
    {
        for (j = 0; j <= i; j++)
            printf("%4d ", a[i][j]);
        printf("\n"); 
     }
   
    return 0;
}
```

## 6.2 è¿ç®—æ–¹æ³•

ï¼ˆ1ï¼‰++å’Œ*éƒ½æ˜¯å•ç›®è¿ç®—ç¬¦

ï¼ˆ2ï¼‰å•ç›®è¿ç®—ç¬¦ä»å³å‘å·¦è¿ç®—

ï¼ˆ3ï¼‰++åœ¨å‰æ˜¯å…ˆç§»åŠ¨å†å–å€¼ï¼Œ++åœ¨åæ˜¯å…ˆå–å€¼å†ç§»åŠ¨ã€‚

```c
int a[5]={1,2,3,4,5};
int *p=a;
//printf("%d\n",*(p++)); //1
//printf("%d\n",++*p); //2
//printf("%d\n",++(*p));//åŒä¸Š
//printf("%d\n",*++p);//2
printf("%d\n",*(++p));//åŒä¸Š
```



## 6.3 æŒ‡é’ˆå’ŒäºŒç»´æ•°ç»„

### 6.3.1 æ•°ç»„åè¡¨ç¤º

ä¾‹å¦‚ï¼š

int a\[2][3]={1,2,3,4,5,6};

aæ˜¯æ•°ç»„åï¼Œè¡¨ç¤ºç¬¬ä¸€è¡Œçš„é¦–åœ°å€ã€‚

a+1è¡¨ç¤ºç¬¬äºŒè¡Œçš„é¦–åœ°å€ï¼Œä»¥æ­¤ç±»æ¨ã€‚

åœ¨aå‰é¢åŠ *ï¼Œè¡¨ç¤ºå°†è¡Œåœ°å€é™çº§ç§°ä¸ºåˆ—åœ°å€ã€‚

*a;//ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„åœ°å€

*a+1;//ç¬¬ä¸€è¡Œç¬¬äºŒåˆ—çš„åœ°å€

*(a+1);//ç¬¬äºŒè¡Œç¬¬ä¸€åˆ—çš„åœ°å€

*(a+1)+1;//ç¬¬äºŒè¡Œç¬¬äºŒåˆ—çš„åœ°å€

[![p9RDUaj.png](https://s1.ax1x.com/2023/05/16/p9RDUaj.png)](https://imgse.com/i/p9RDUaj)

è®¿é—®æ•°ç»„å…ƒç´ åœ°å€ï¼ˆa[i][j]çš„åœ°å€ï¼‰ï¼š

&a\[i][j]

*(a+i)+j

a[i]+j

è®¿é—®æ•°ç»„å…ƒç´ å€¼ï¼š

a\[i][j]

*(*(a+i)+j)

*(a[i]+j)

ä»£ç éªŒè¯ï¼š

```c
#include <stdio.h>

int main(int argc, char const *argv[])
{
    int a[2][3]={1,2,3,4,5,6};
    for(int i=0;i<2;i++)
        for(int j=0;j<3;j++)
            printf("%d %d\n",*(a[i]+j),*(*(a+i)+j));
    
    return 0;
}
```

æ‰“å°ç»“æœï¼š

```
1 1
2 2
3 3
4 4
5 5
6 6
```



# 7.æ•°ç»„æŒ‡é’ˆ

## 7.1 æ¦‚å¿µ

æœ¬è´¨è¿˜æ˜¯æŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯æ•°ç»„ï¼ˆåˆç§°ä¸ºè¡ŒæŒ‡é’ˆï¼‰

## 7.2 å®šä¹‰æ ¼å¼

å­˜å‚¨ç±»å‹ æ•°æ®ç±»å‹(* æŒ‡é’ˆå˜é‡å)[åˆ—æ•°];

ä¾‹å¦‚ï¼š

int a\[2][3]={1,2,3,4,5,6};

int (*p)[3]=a;

på¯ä»¥ä»£æ›¿è¿›è¡Œå…ƒç´ è®¿é—®ï¼Œä½†æœ¬è´¨ä¸åŒï¼Œpæ˜¯æŒ‡é’ˆå˜é‡ï¼Œaæ˜¯åœ°å€å¸¸é‡ã€‚

æŠŠpè¿›è¡Œè¿ç®—çš„æ—¶å€™ï¼Œä¾‹é¢˜ä¸­æƒ…å†µè¦3ä¸ªå•ä½3ä¸ªå•ä½è¿›è¡Œè¿ç®—ã€‚



è®¿é—®æ•°ç»„å…ƒç´ åœ°å€ï¼ˆa[i][j]çš„åœ°å€ï¼‰ï¼š

*(p+i)+j

p[i]+j



è®¿é—®æ•°ç»„å…ƒç´ å€¼ï¼š

*(*(p+i)+j)

*(p[i]+j)

ä¾‹å¦‚ï¼šç”¨æ•°ç»„æŒ‡é’ˆéå†äºŒç»´æ•°ç»„ã€‚

```c
#include <stdio.h>

int main(int argc, char const *argv[])
{
    int a[2][3] = {1, 2, 3, 4, 5, 6};
    int(*p)[3] = a;

    for (int i = 0; i < 2; i++)
    {
        for (int j = 0; j < 3; j++)
            //printf("%d ", *(p[i] + j));
            printf("%d ",*(*(p+i)+j));
        printf("\n");
    }
    return 0;
}
```

ç»ƒä¹ ï¼š

æœ‰ä¸€ä¸ªç­ï¼Œ3ä¸ªå­¦ç”Ÿï¼Œå„å­¦4é—¨è¯¾ï¼Œè®¡ç®—æ€»å¹³å‡åˆ†ä»¥åŠè¾“å‡ºç¬¬nä¸ªå­¦ç”Ÿçš„æˆç»©ã€‚

int a\[3][4] = {65,55,23,57,52,67,64,80,90,42,75,92};

æ€è·¯ï¼šç”¨æ•°ç»„æŒ‡é’ˆçš„æ–¹å¼æŠŠæ¯ä¸ªå­¦ç”Ÿåˆ†åˆ«å½“æˆä¸€ä¸ªæ•°ç»„ï¼Œint (*p)[4]è¡¨ç¤ºï¼Œè¿™æ ·æ¯åˆ—çš„å…ƒç´ å°±ä»£è¡¨æ¯é—¨è¯¾çš„æˆç»©ã€‚ç„¶åå¾ªç¯åµŒå¥—ç®—å‡ºæ€»æˆç»©ï¼Œæ€»æˆç»©é™¤ä»¥12ç®—å‡ºå¹³å‡æˆç»©ã€‚ç„¶åé€šè¿‡å¾ªç¯ï¼Œæ‰¾åˆ°ç¬¬å‡ ä¸ªå­¦ç”Ÿçš„æˆç»©è¾“å‡ºã€‚

```c
#include <stdio.h>

int main(int argc, char const *argv[])
{
    int a[3][4]={65,55,23,57,67,80,90,42,75,92};
    int (*p)[4]=a;
    int sum=0,ave=0,n=0;
    for(int i=0;i<3;i++)
    {
        for(int j=0;j<4;j++)
            sum+=*(p[i]+j);
    }
    ave=sum/12;
    printf("sum=%d ave=%d\n",sum,ave);
    scanf("%d",&n);
    if(n<=3&&n>0)
    {
        for(int k=0;k<4;k++)
            printf("%d ",*(*(p+n-1)+k));
        printf("\n");
    }
    return 0;
}
```



## 7.3 å¤§å°

sizeof(p)=4

å› ä¸ºæœ¬è´¨è¿˜æ˜¯æŒ‡é’ˆï¼Œæ‰€ä»¥å¤§å°éƒ½æ˜¯å››å­—èŠ‚ã€‚

# 8. æŒ‡é’ˆæ•°ç»„

## 8.1 å®šä¹‰

æ‰€è°“æŒ‡é’ˆæ•°ç»„æ˜¯æŒ‡è‹¥å¹²ä¸ªå…·æœ‰ç›¸åŒå­˜å‚¨ç±»å‹å’Œæ•°æ®ç±»å‹çš„æŒ‡é’ˆå˜é‡æ„æˆçš„é›†åˆã€‚å…¶æœ¬è´¨æ˜¯æ•°ç»„ï¼Œé‡Œé¢å­˜æ”¾çš„æ˜¯æŒ‡é’ˆã€‚

## 8.2æ ¼å¼

å­˜å‚¨ç±»å‹ æ•°æ®ç±»å‹ *æ•°ç»„å[å…ƒç´ ä¸ªæ•°];

æŒ‡é’ˆæ•°ç»„åè¡¨ç¤ºçš„æ˜¯è¯¥æŒ‡é’ˆæ•°ç»„çš„é¦–åœ°å€ã€‚

ä¾‹å¦‚ï¼š

int *arr[2];

## 8.3 åº”ç”¨

### (1) ç”¨äºå­˜æ”¾æ™®é€šå˜é‡çš„åœ°å€

ä¾‹å¦‚ï¼š

int a=10,b=20,c=30;

int *p[3]={&a,&b,&c};

**è®¿é—®bçš„å€¼ï¼š**

*p[1]

**(p+1)

**è®¿é—®bçš„åœ°å€ï¼š**

p[1]

*(p+1)

[![p9RDBR0.png](https://s1.ax1x.com/2023/05/16/p9RDBR0.png)](https://imgse.com/i/p9RDBR0)

```c
    int a=10,b=20,c=30;
    int *p[3]={&a,&b,&c};
    printf("%p %p %p\n",p[0],p[1],p[2]);
    printf("%p %p %p\n",*p,*(p+1),*(p+2));

    printf("%d %d %d\n",*p[0],*p[1],*p[2]);
    printf("%d %d %d\n",**p,**(p+1),**(p+2));
```



### (2) ç”¨äºå­˜æ”¾äºŒç»´æ•°ç»„çš„æ¯è¡Œç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€(åˆ—åœ°å€)

ä¾‹å¦‚ï¼š

int a\[2][3]={1,2,3,4,5,6};

int *p[2]={a[0],a[1]};

è®¿é—®a\[1][2]çš„å€¼ï¼š

*(p[1]+2)

\*(\*(p+1)+2)

è®¿é—®a\[1][2]çš„åœ°å€ï¼š

p[1]+2

*(p+1)+2

**å¤§å°**ï¼šsizeof(p);//8,å› ä¸ºåŒ…å«ä¸¤ä¸ªæŒ‡é’ˆï¼Œæ¯ä¸ªæŒ‡é’ˆå¤§å°ä¸º4ã€‚

è®¿é—®åœ°å€ï¼š

- p[i]+j
- *(p+i)+j

è®¿é—®å…ƒç´ ï¼š

- \*(\*(p+i)+j)
- *(p[i]+j)

### (3) ç”¨äºå­˜æ”¾å­—ç¬¦ä¸²

char *p[3]={"hello","world","hqyj"};

ç»ƒä¹ ï¼šéå†å­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå…ƒç´ 

```c
#include <stdio.h>
int main(int argc, char const *argv[])
{
    char *p[3] = {"hello", "world", "hqyj"};
    /* 
    for(int i=0;i<3;i++)
    {
        int j=0;
        while(*(p[i]+j)!='\0')
        {
            //printf("%c",*(p[i]+j));
            printf("%c",*(*(p+i)+j));
            j++;
        }
        printf("\n");
    }
    */
    for (int i = 0; i < 3; i++)
        // printf("%s\n",*(p+i));
        printf("%s\n", p[i]);
    return 0;
}
```



ç»ƒä¹ ï¼šç”¨è¡ŒæŒ‡é’ˆå®ç°æ¨è¾‰ä¸‰è§’

```c
#include<stdio.h>
int main(int argc, char const *argv[])
{
    int a[10][10]={};
    int (*p)[10]=a;
    for(int i=0;i<10;i++)
    {
        *p[i]=1;
        *(*(p+i)+i)=1;
    }
    for(int i=2;i<10;i++)
    {
        for(int j=1;j<10;j++)
        {
            *(p[i]+j)=*(p[i-1]+j)+*(p[i-1]+j-1);
        }
    }
    for(int i=0;i<10;i++)
    {
        for(int j=0;j<=i;j++)
            printf("%d ",*(p[i]+j));
        printf("\n");
    }
    return 0;
}
```

ç»ƒä¹ ï¼š

1. éå†char *p[3]={"hello","world","hqyj"};ä¸­çš„æ¯ä¸ªå…ƒç´ 
2. ç”¨æŒ‡é’ˆå°†æ•´å‹ç»„s[8]={1,2,3,4,5,6,7,8}ä¸­çš„å€¼é€†åºå­˜æ”¾å¹¶æ‰“å°

```c
#include <stdio.h>
int main()
{
	int i;
	int s[8]={1,2,3,4,5,6,7,8};
	int *p=s,t=0;
	int *q=s+sizeof(s)/sizeof(s[0])-1;

	while (p<q)
	{
		t=*p;
		*p=*q;
		*q=t;
		p++;
		q--;
	}

	for(int i=0;i<8;i++)
		printf("%d ",s[i]);
	printf("\n");
	
	return 0;
}
```

3. æŠŠä¸€å¥è¯å€’å™æ’æ”¾ï¼Œæ¯”å¦‚"i love china"å€’å™æˆâ€œchina love iâ€

ï¼ˆæ–¹æ³•ä¸€ï¼‰ï¼š

```c
#include<stdio.h>
#include<string.h>
int main(int argc, char const *argv[])
{
    char a[32]="you love china";
    char *p = a,*q=NULL,*k=NULL,t;
    q = p+strlen(a)-1;            //æŒ‡å‘æ•´ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾
    while(p
    {
        t = *p;
        *p = *q;
        *q = t;
        p++;
        q--;
    }                            //å…¨éƒ¨å€’ç½®ç»“æŸ
    printf("%s\n",a);
    p = q = a;                   //é‡æ–°æŒ‡å‘å­—ç¬¦ä¸²å¼€å¤´
    while(*p != '\0')            //éå†æ•´ä¸ªå­—ç¬¦ä¸²
    {
        while(*p == ' ')          //è®©pä¸€ç›´æŒ‡å‘å¼€å¤´
            p++;
        q=p;                        //på’ŒqæŒ‡å‘å•è¯å¼€å¤´
        while(*q != ' '&& *q != '\0')
            q++;
        k=q;                        //kæŒ‡å‘ç©ºæ ¼
        q--;                        //qæŒ‡å‘å•è¯ç»“å°¾
        while(p < q)
        {
            t = *p;
            *p = *q;
            *q = t;
            p++;
            q--;
        }                            //å•è¯å€’ç½®ç»“æŸ
        p=k;                         //pæŒ‡å‘ç©ºæ ¼
    }
    printf("%s\n",a);
    return 0;
}
```



ï¼ˆæ–¹æ³•äºŒï¼‰ï¼š

```c
#include <stdio.h>
#define MAX 30
int main(void)
{
    char buf[32];
    char str[MAX][15] = {0};
    int i, j, t;
    i = MAX - 1; //è¡¨ç¤ºæœ€åä¸€è¡Œ
    t = 0;
    gets(buf);

    while (buf[t] != '\0')
    {
        j = 0;
        while (buf[t] != '\0' && buf[t] != ' ')
        {
            str[i][j] = buf[t];     //äºŒç»´æ•°ç»„çš„æ¯ä¸€è¡Œè®°å½•å­—ç¬¦ä¸²
            j++;
            t++;
        }
        if (buf[t] == ' ')
        {                    
            i--;                    //æ‰¾ä¸Šä¸€è¡Œï¼ŒæŠŠå­—ç¬¦ä¸²å¡åˆ°ä¸Šä¸€è¡Œé‡Œã€‚
            t++;
        }
    }

    for (; i < MAX; i++)            //ä¾æ¬¡æ‰“å°æ¯ä¸ªå°å­—ç¬¦ä¸²
        printf("%s ", str[i]);
    printf("\n");
    return 0;
}
```



ï¼ˆæ–¹æ³•ä¸‰ï¼‰ï¼š

```c
#include <stdio.h>
#define MAXN 32
#define MAXM 32
int main(void)
{
    char buf[32];
    char str[MAXN][MAXM] = {0};
    char(*p)[MAXM] = str + MAXM - 1;
    int j;
    char *q=buf;
    gets(buf);
    while (*q != '\0' )
    {
        j = 0;
        while (*q != '\0' && *q != ' ' )
        {
            *(*p + j) = *q; 
            j++;
            q++;
        }
        if (*q == ' ')
        { 
            p--;                 
            q++;
        }
    }
    for (int i = 0; i < MAXN; i++)
        if (*str[i])
            printf("%s ", str[i]);
    printf("\n");
    return 0;
}
```



### (4) å‘½ä»¤è¡Œå‚æ•°

```
int main(int argc, char const *argv[])
{
	printf("%s\n",argv[0]);
}
```

- argv:æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œé‡Œé¢å­˜æ”¾äº†å‘½ä»¤è¡Œä¼ é€’çš„å­—ç¬¦ä¸²ã€‚

- argc:è¡¨ç¤ºçš„æ˜¯argvæŒ‡é’ˆæ•°ç»„é‡Œé¢å­—ç¬¦ä¸²çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯å‘½ä»¤è¡Œä¼ é€’å­—ç¬¦ä¸²çš„ä¸ªæ•°ã€‚

ä¾‹å­ï¼šæ‰“å°å‘½ä»¤è¡Œé™¤äº†å¼€å¤´åå­—çš„æ¯ä¸€ä¸ªå‚æ•°å­—ç¬¦ä¸²

```c
#include<stdio.h>
int main(int argc, char const *argv[])
{
    for (int i = 1; i < argc; i++)
        printf("%s\n",argv[i]);
    return 0;
}
```

ç»ƒä¹ ï¼šå°†å‘½ä»¤è¡Œè¾“å…¥çš„3ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæ•´å‹æ•°å­—è¾“å‡ºã€‚è¦æ±‚ï¼šå­—ç¬¦ä¸²ä¸º0-9ç»„æˆï¼Œè¾“å‡ºæ•°æ®ä¸ºä¸€ä¸ªæ•´å½¢æ•°

```c
#include <stdio.h>
#include <string.h>
int main(int argc, char const *argv[])
{
    int len=0,arr[4]={};                    //ç”¨ä¸€ä¸ªæ•°ç»„æ¥æ”¶æ²¡ä¸€ä¸ªè½¬æ¢åçš„æ•°å­—
    for(int i=1;i<4;i++)
    {
        len=strlen(argv[i]);                //è®¡ç®—æ¯ä¸ªå­—ç¬¦ä¸²é•¿åº¦
        arr[i-1]=*argv[i]-48;               //è½¬æ¢æ¯ä¸ªå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªæ•°ç»„
        for ( int j=1; j < len; j++)
        {
            arr[i-1]=arr[i-1]*10+(*(argv[i]+j)-48); //ç”¨äºæ¥æ”¶åé¢çš„è½¬æ¢
        }
        
    }
    
    for(int k=0;k<3;k++)
        printf("%d\n",arr[k]);
    return 0;
}
```

